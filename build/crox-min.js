/*
 Crox v1.2.7
 https://github.com/thx/crox

 Released under the MIT license
 md5: 65a802e61b5713dc4e20a3deb700d514
*/
(function(t){var n=function(){function n(a,d){this.row=a;this.col=d}function y(a,d){var e=a.substring(0,d),c=e.match(/\r\n?|\n/g),m=1;c&&(m+=c.length);e=1+/[^\r\n]*$/.exec(e)[0].length;return new n(m,e)}function t(a){return'"'+a.replace(/[\x00-\x1f"\\\u2028\u2029]/g,function(a){switch(a){case '"':return'\\"';case "\\":return"\\\\";case "\b":return"\\b";case "\f":return"\\f";case "\n":return"\\n";case "\r":return"\\r";case "\t":return"\\t"}return"\\u"+("000"+a.charCodeAt(0).toString(16)).slice(-4)})+
'"'}function z(a){return eval(a)}function I(a){function d(a,d,g,m){this.tag=a;this.text=d;this.index=g;this.subMatches=m}function e(){}function c(a){for(var d=1,g=[],m=[1],b=[],f=0;f<a.length;++f)m.push(d+=RegExp("|"+a[f][0].source).exec("").length),b.push(a[f][1]||e),g.push("("+a[f][0].source+")");return[RegExp(g.join("|")+"|","g"),m,b]}d.prototype.toString=function(){return this.text};var m=a.$||"$",b={},h;for(h in a)"$"!=h.charAt(0)&&(b[h]=c(a[h]));return function(a){var c=a.length,g=0,h=[""],
l={text:"",index:0,source:a,pushState:function(a){h.push(a)},popState:function(){h.pop()},retract:function(a){g-=a}};return{scan:function(){do{var f;a:{var e=b[h[h.length-1]],k=e[0];k.lastIndex=g;f=k.exec(a);if(""==f[0]){if(g<c)throw Error("lexer error: "+y(a,g)+"\n"+a.slice(g,g+50));f=new d(m,"",g)}else{l.index=g;g=k.lastIndex;for(var k=e[1],q=0;q<k.length;++q)if(f[k[q]]){e=e[2][q].apply(l,f.slice(k[q],k[q+1]));f=new d(e,f[0],l.index,f.slice(k[q]+1,k[q+1]));break a}f=void 0}}}while(null==f.tag);
return f},getPos:function(g){return y(a,g)},reset:function(){g=0;h=[""]}}}}function A(a){var d;a:{switch(a){case "id":case "lit":d=!0;break a}d=!1}return d||"."==a||"[]"==a}function x(a){return A(a)||"!"==a||"u-"==a}function B(a){if(x(a))return!0;switch(a){case "*":case "/":case "%":return!0}return!1}function C(a){if(B(a))return!0;switch(a){case "+":case "-":return!0}return!1}function D(a){if(C(a))return!0;switch(a){case "<":case ">":case "<=":case ">=":return!0}return!1}function E(a){if(D(a))return!0;
switch(a){case "eq":case "ne":return!0}return!1}function F(a){return E(a)||"&&"==a}function J(a){return F(a)||"||"==a}function K(a,d,e){function c(a){v+=a}function m(a){for(var b=0;b<a.length;++b){var l=a[b];switch(l[0]){case "if":c("if("+h(l[1])+"){");m(l[2]);c("}");l[3]&&(c("else{"),m(l[3]),c("}"));break;case "each":var f=l[3]?l[3].replace(/^_+/,"$&$&"):"_"+w++,u=h(l[1]);if(/^\w+$/.test(u))var k=u;else k="_"+w++,c("var "+k+" = "+u+";");l[5]?c("for(var "+f+"=0;"+f+"<"+k+".length;"+f+"++){"):c("for(var "+
f+" in "+k+") {");c("var "+l[4]+" = "+k+"["+f+"];");m(l[2]);c("}");break;case "set":c("var "+l[1].replace(/^_+/,"$&$&")+"="+h(l[2])+";");break;case "eval":f=h(l[1]);/^\w+$/.test(f)?u=f:(u="_t",c("_t = "+f+";"));c("if("+u+" !=null)_s += "+((e?!l[2]:l[2])?d+"("+u+")":u)+";");break;case "text":c("_s += "+t(l[1])+";");break;case "inc":break;default:throw Error("unknown stmt: "+l[0]);}}}function b(a,d){var b=h(a);d&&!d(a[0])&&(b="("+b+")");return b}function h(a){switch(a[0]){case "id":return a[1].replace(/^_+/,
"$&$&");case "lit":return"string"==typeof a[1]?t(a[1]):String(a[1]);case ".":return b(a[1],A)+"."+a[2];case "[]":return b(a[1],A)+"["+h(a[2])+"]";case "!":return"!"+b(a[1],x);case "u-":return"- "+b(a[1],x);case "*":case "/":case "%":return b(a[1],B)+a[0]+b(a[2],x);case "+":case "-":return b(a[1],C)+a[0]+" "+b(a[2],B);case "<":case ">":case "<=":case ">=":return b(a[1],D)+a[0]+b(a[2],C);case "==":case "!=":case "===":case "!==":return b(a[1],E)+a[0]+b(a[2],D);case "&&":return b(a[1],F)+"&&"+b(a[2],
E);case "||":return b(a[1],J)+"||"+b(a[2],F);default:throw Error("unknown expr: "+a[0]);}}var w=0,v="";m(a[1]);return v}function G(a){return L(M(a))}function H(a,d){var e=G(a),c;d&&(c=d.htmlEncode);a=K(e,c||"_htmlEncode",!0);e="";c||(e="var _obj = { '<': '&lt;', '>': '&gt;', '&': '&amp;', '\"': '&quot;' };\tfunction _htmlEncode(s) {\t\treturn String(s).replace(/[<>&\"]/g, function(c) {\t\t\treturn _obj[c];\t\t});\t}");return Function("root",e+("var _t,_s = '';"+a+"return _s;"))}n.prototype.toString=
function(){return"("+this.row+","+this.col+")"};var M=function(){var a=[[/\s+/],[/[A-Za-z_]\w*/,function(a){switch(a){case "true":case "false":return"boolean";case "set":case "include":return a;default:if(-1!=" abstract boolean break byte case catch char class const continue debugger default delete do double else enum export extends final finally float for function goto if implements import in instanceof int interface let long native new package private protected public return short static super switch synchronized this throw throws transient try typeof var void volatile while with yield ".indexOf(" "+
a+" ")||"null"==a)throw Error("Reserved: "+a+" "+y(this.source,this.index));return"realId"}}],[/"(?:[^"\\]|\\[\s\S])*"|'(?:[^'\\]|\\[\s\S])*'/,function(a){return"string"}],[/\d+(?:\.\d+)?(?:e-?\d+)?/,function(a){return"number"}],[function(a){a.sort().reverse();for(var e=0;e<a.length;++e)a[e]=a[e].replace(/[()*+?.[\]|]/g,"\\$&");return RegExp(a.join("|"))}("! % && ( ) * + - . / < <= = > >= [ ] || === !== == !=".split(" ")),function(a){return/[!=]=/.test(a)?"eq":a}]];return I({"":[[/(?:(?!{{)[\s\S])+/,
function(a){return"text"}],[/{{{/,function(a){this.pushState(a);return a}],[/{{(?:\/if|else|\/each|\/forin|\/raw)}}/,function(a){return a}],[/{{#raw}}/,function(a){this.pushState("raw");return a}],[/{{(?:#(?:if|each|forin)(?=\s))?/,function(a){this.pushState("{{");return a}]],raw:[[/(?:(?!{{\/raw}})[\s\S])+/,function(a){this.popState();return"rawtext"}]],"{{":a.concat([[/}}/,function(a){this.popState();return a}]]),"{{{":a.concat([[/}}}/,function(a){this.popState();return a}]])})}(),L=function(){return function(a){function d(a,
b){return h[a][b]}for(var e=a.nStart,c=a.tSymbols,m={},b=0;b<c.length;++b)m[c[b]]=b;var h=a.tAction,w=a.tGoto,v=a.tRules,g=a.tFuncs,n=a.actionIndex;n&&(d=function(a,b){var m=h[n[a]];return m[b]||m._});return function(a,b){function h(b){throw Error("Syntax error: "+a.getPos(n.index)+(b?"\n"+b:""));}var k=0,q=[0],n=a.scan(),r=[],t={get:function(a){return r[r.length+a]},set:function(a,b){r[r.length+a]=b}};if(b)for(var p in b)t[p]=b[p];for(;;)if(p=d(k,m[n.tag]))if(0<p)q.push(k=p),r.push(n),n=a.scan();
else if(0>p&&-32768<p){p=-p;var k=v[p],s=k.length-1;q.length-=s;k=w[q[q.length-1]][k[0]-e];q.push(k);g[p]?(p=g[p].apply(t,r.splice(r.length-s,s)),r.push(p)):1!=s&&r.splice(r.length-s,s,null)}else return n.tag!=c[0]&&h(),r[0];else{p=[];for(s=0;s<e;++s)d(k,s)&&p.push(c[s]);h("find "+n.tag+"\nexpect "+p.join(" "))}}}({nStart:41,tSymbols:"$ ! % && ( ) * + - . / < <= = > >= [ ] boolean eq include number rawtext realId set string text {{ {{#each {{#forin {{#if {{#raw}} {{/each}} {{/forin}} {{/if}} {{/raw}} {{else}} {{{ || }} }}} AdditiveExpression EqualityExpression LogicalAndExpression LogicalOrExpression MemberExpression MultiplicativeExpression PrimaryExpression RelationalExpression UnaryExpression _text epsilon expr id name program statement statements texts".split(" "),
tAction:[{_:-2},{_:-32768},{26:3,27:4,28:5,29:6,30:7,31:8,37:9,_:-1},{_:-19},{1:13,4:14,8:15,18:16,20:17,21:18,23:19,24:20,25:21,_:0},{1:13,4:14,8:15,18:16,20:33,21:18,23:19,24:34,25:21,_:0},{22:38,_:0},{_:-17},{_:-3},{26:3,31:8,_:-13},{_:-26},{25:44,_:-23},{_:-25},{_:-21},{20:33,23:19,24:34,_:-22},{_:-24},{7:46,8:47,_:-42},{19:48,_:-49},{3:49,_:-51},{38:50,_:-53},{9:51,16:52,_:-32},{2:53,6:54,10:55,_:-39},{_:-29},{11:56,12:57,14:58,15:59,_:-47},{_:-35},{39:60,_:0},{_:-27},{_:-23},{_:-22},{20:33,
23:19,24:34,25:61,_:0},{39:65,_:0},{35:66,_:0},{40:67,_:0},{_:-18},{_:-33},{5:68,_:0},{_:-34},{39:69,_:0},{13:70,_:0},{20:33,23:19,24:34,_:0},{_:-11},{_:-15},{_:-16},{20:33,23:19,24:34,25:61,_:-54},{_:-20},{_:-12},{_:-28},{_:-14},{2:53,6:54,10:55,_:-40},{2:53,6:54,10:55,_:-41},{11:56,12:57,14:58,15:59,_:-48},{19:48,_:-50},{3:49,_:-52},{_:-30},{17:91,_:0},{_:-38},{_:-36},{_:-37},{7:46,8:47,_:-43},{7:46,8:47,_:-45},{7:46,8:47,_:-44},{7:46,8:47,_:-46},{39:92,_:0},{39:93,_:0},{39:94,_:0},{39:95,_:0},
{26:3,27:4,28:5,29:6,30:7,31:8,34:96,36:97,37:9,_:0},{39:98,_:0},{_:-31},{_:-4},{_:-10},{26:3,27:4,28:5,29:6,30:7,31:8,32:104,37:9,_:0},{26:3,27:4,28:5,29:6,30:7,31:8,32:105,37:9,_:0},{26:3,27:4,28:5,29:6,30:7,31:8,33:106,37:9,_:0},{26:3,27:4,28:5,29:6,30:7,31:8,33:107,37:9,_:0},{26:3,27:4,28:5,29:6,30:7,31:8,34:108,37:9,_:0},{_:-6},{_:-7},{_:-8},{_:-9},{_:-5}],actionIndex:[0,1,2,3,4,5,5,5,6,5,7,8,9,5,5,5,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,29,30,31,32,33,34,35,36,37,38,5,
5,5,5,5,39,5,5,5,5,5,5,5,5,40,41,42,43,43,0,44,45,46,47,5,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,0,0,0,0,69,0,70,71,72,73,74,75,76,77,78,79,80],tGoto:[{14:1,16:2},,{9:10,15:11,17:12},,{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,11:31,12:32},{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,11:35,12:32},{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,11:36,12:32},{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,11:37,12:32},,{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,11:39,12:32},
,,{9:40},{4:26,6:28,8:41,12:32},{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,11:42,12:32},{4:26,6:28,8:43,12:32},,,,,{12:45},,,,,,,,,,,,,,,{12:62,13:63},{12:62,13:64},,,,,,,,,,{4:26,5:71,6:28,8:30,12:32},{4:26,5:72,6:28,8:30,12:32},{0:22,4:26,5:27,6:28,7:73,8:30,12:32},{0:22,1:74,4:26,5:27,6:28,7:29,8:30,12:32},{0:22,1:23,2:75,4:26,5:27,6:28,7:29,8:30,12:32},{12:76},{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,11:77,12:32},{4:26,6:28,8:78,12:32},{4:26,6:28,8:79,12:32},{4:26,6:28,8:80,12:32},{0:81,
4:26,5:27,6:28,8:30,12:32},{0:82,4:26,5:27,6:28,8:30,12:32},{0:83,4:26,5:27,6:28,8:30,12:32},{0:84,4:26,5:27,6:28,8:30,12:32},,,,{10:85,12:62,13:86},{10:87,12:62,13:88},{16:89},,,,,{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,11:90,12:32},,,,,,,,,,,,,,,,,,,{9:10,15:11,17:12},,,{16:99},{16:100},{16:101},{16:102},,{16:103},,{9:10,15:11,17:12},{9:10,15:11,17:12},{9:10,15:11,17:12},{9:10,15:11,17:12},{9:10,15:11,17:12}],tRules:[[59,55],[55,57],[57],[57,57,56],[56,30,52,39,57,34],[56,30,52,39,57,36,57,
34],[56,28,52,54,51,39,57,32],[56,28,52,54,54,39,57,32],[56,29,52,54,51,39,57,33],[56,29,52,54,54,39,57,33],[56,27,24,53,13,52,39],[56,27,52,39],[56,37,52,40],[56,58],[56,27,20,25,39],[54,25],[54,53],[58,50],[58,58,50],[50,26],[50,31,22,35],[53,23],[53,24],[53,20],[47,25],[47,21],[47,18],[47,53],[47,4,52,5],[45,47],[45,45,9,53],[45,45,16,52,17],[49,45],[49,1,49],[49,8,49],[46,49],[46,46,6,49],[46,46,10,49],[46,46,2,49],[41,46],[41,41,7,46],[41,41,8,46],[48,41],[48,48,11,41],[48,48,14,41],[48,48,12,
41],[48,48,15,41],[42,48],[42,42,19,48],[43,42],[43,43,3,42],[44,43],[44,44,38,43],[52,44],[51]],tFuncs:function(){function a(a,b,h,c,d,e,n){return["each",b,e,c,h,!0]}function d(a,b,c,d,e,g,n){return["each",b,g,d,c,!1]}function e(a){return a.text}function c(a,b,c){return[b.text,a,c]}return[,function(a){return["prog",a]},function(){return[]},function(a,b){a.push(b);return a},function(a,b,c,d,e){return["if",b,d]},function(a,b,c,d,e,g,n){return["if",b,d,g]},a,a,d,d,function(a,b,c,d,e,g){return["set",
c.text,e]},function(a,b,c){return["eval",b,!1]},function(a,b,c){return["eval",b,!0]},function(a){return["text",a]},function(a,b,c,d){return["inc",z(c.text)]},function(a){return z(a.text)},e,function(a){return a},function(a,b){return a+b},e,function(a,b,c){return b.text},,,,function(a){return["lit",z(a.text)]},function(a){return["lit",+a.text]},function(a){return["lit","true"==a.text]},function(a){return["id",a.text]},function(a,b,c){return b},,function(a,b,c){return[".",a,c.text]},function(a,b,c,
d){return["[]",a,c]},,function(a,b){return["!",b]},function(a,b){return["u-",b]},,c,c,c,,c,c,,c,c,c,c,,c,,c,,c]}()})}();return{parse:G,compile:H,render:function(a,d){return H(a)(d)},version:"1.2.7"}}();"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=n:"function"==typeof define&&(define.amd||define.cmd)?define(function(){return n}):"undefined"!=typeof KISSY&&KISSY.add(function(){return n});t&&(t.Crox=n)})(this);
