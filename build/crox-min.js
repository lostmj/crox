/*
 Crox v1.2.7
 https://github.com/thx/crox

 Released under the MIT license
 md5: 13305aa77cc33234d22f8b2b5b52db29
*/
(function(w){var t=function(){function t(b,a){this.row=b;this.col=a}function y(b,a){var d=b.substring(0,a),e=d.match(/\r\n?|\n/g),c=1;e&&(c+=e.length);d=1+/[^\r\n]*$/.exec(d)[0].length;return new t(c,d)}function w(b){return'"'+b.replace(/[\x00-\x1f"\\\u2028\u2029]/g,function(a){switch(a){case '"':return'\\"';case "\\":return"\\\\";case "\b":return"\\b";case "\f":return"\\f";case "\n":return"\\n";case "\r":return"\\r";case "\t":return"\\t"}return"\\u"+("000"+a.charCodeAt(0).toString(16)).slice(-4)})+
'"'}function H(b){function a(a,b,l,k){this.tag=a;this.text=b;this.index=l;this.subMatches=k}function d(){}function e(a){for(var b=1,l=[],k=[1],f=[],c=0;c<a.length;++c)k.push(b+=RegExp("|"+a[c][0].source).exec("").length),f.push(a[c][1]||d),l.push("("+a[c][0].source+")");return[RegExp(l.join("|")+"|","g"),k,f]}a.prototype.toString=function(){return this.text};var c=b.$||"$",k={},f;for(f in b)"$"!=f.charAt(0)&&(k[f]=e(b[f]));return function(b){var f=b.length,l=0,d=[""],h={text:"",index:0,source:b,pushState:function(a){d.push(a)},
popState:function(){d.pop()},retract:function(a){l-=a}};return{scan:function(){do{var m;a:{var e=k[d[d.length-1]],g=e[0];g.lastIndex=l;m=g.exec(b);if(""==m[0]){if(l<f)throw Error("lexer error: "+y(b,l)+"\n"+b.slice(l,l+50));m=new a(c,"",l)}else{h.index=l;l=g.lastIndex;for(var g=e[1],q=0;q<g.length;++q)if(m[g[q]]){e=e[2][q].apply(h,m.slice(g[q],g[q+1]));m=new a(e,m[0],h.index,m.slice(g[q]+1,g[q+1]));break a}m=void 0}}}while(null==m.tag);return m},getPos:function(a){return y(b,a)},reset:function(){l=
0;d=[""]}}}}function z(b){var a;a:{switch(b){case "id":case "lit":a=!0;break a}a=!1}return a||"."==b||"[]"==b}function x(b){return z(b)||"!"==b||"u-"==b}function A(b){if(x(b))return!0;switch(b){case "*":case "/":case "%":return!0}return!1}function B(b){if(A(b))return!0;switch(b){case "+":case "-":return!0}return!1}function C(b){if(B(b))return!0;switch(b){case "<":case ">":case "<=":case ">=":return!0}return!1}function D(b){if(C(b))return!0;switch(b){case "eq":case "ne":return!0}return!1}function E(b){return D(b)||
"&&"==b}function I(b){return E(b)||"||"==b}function J(b,a){function d(a){u+=f+a+"\n"}function e(b){for(var c=0;c<b.length;++c){var h=b[c];switch(h[0]){case "if":d("if("+k(h[1])+"){");f+="\t";e(h[2]);f=f.slice(0,-1);d("}");h[3]&&(d("else{"),f+="\t",e(h[3]),f=f.slice(0,-1),d("}"));break;case "each":++v;var m=h[3]||"$i",u=k(h[1]);if(/^[$\w]+$/.test(u))var g=u;else g="$list"+(1==v?"":v),d("var "+g+" = "+u+";");h[5]?d("for(var "+m+"=0;"+m+"<"+g+".length;"+m+"++){"):d("for(var "+m+" in "+g+") {");f+="\t";
d("var "+h[4]+" = "+g+"["+m+"];");e(h[2]);f=f.slice(0,-1);d("}");--v;break;case "set":d("var "+h[1]+"="+k(h[2])+";");break;case "eval":m=k(h[1]);d("var $t = "+m+";if($t!=null)$s += "+(h[2]?a+"($t)":"$t")+";");break;case "text":d("$s += "+w(h[1])+";");break;case "inc":break;default:throw Error("unknown stmt: "+h[0]);}}}function c(a,b){var c=k(a);b&&!b(a[0])&&(c="("+c+")");return c}function k(a){switch(a[0]){case "id":return a[1];case "lit":return"string"==typeof a[1]?w(a[1]):String(a[1]);case ".":return c(a[1],
z)+"."+a[2];case "[]":return c(a[1],z)+"["+k(a[2])+"]";case "!":return"!"+c(a[1],x);case "u-":return"- "+c(a[1],x);case "*":case "/":case "%":return c(a[1],A)+a[0]+c(a[2],x);case "+":case "-":return c(a[1],B)+a[0]+" "+c(a[2],A);case "<":case ">":case "<=":case ">=":return c(a[1],C)+a[0]+c(a[2],B);case "==":case "!=":case "===":case "!==":return c(a[1],D)+a[0]+c(a[2],C);case "&&":return c(a[1],E)+"&&"+c(a[2],D);case "||":return c(a[1],I)+"||"+c(a[2],E);default:throw Error("unknown expr: "+a[0]);}}
var f="\t",v=0,u="";e(b[1]);return u}function F(b){return K(L(b))}function G(b,a){var d=F(b),e;a&&(e=a.htmlEncode);var d=J(d,e||"$htmlEncode"),c="";e||(c+="var obj = { '<': '&lt;', '>': '&gt;', '&': '&amp;', '\"': '&quot;' };\n\tfunction $htmlEncode(s) {\n\t\treturn String(s).replace(/[<>&\"]/g, function(c) {\n\t\t\treturn obj[c];\n\t\t});\n\t}");c=c+"var $s = '';"+d;c+="return $s;";return Function("root",c)}t.prototype.toString=function(){return"("+this.row+","+this.col+")"};var L=function(){var b=
[[/\s+/,function(){return null}],[/[A-Za-z_]\w*/,function(a){switch(a){case "true":case "false":return"boolean";case "set":case "include":return a;default:if(-1!=" abstract boolean break byte case catch char class const continue debugger default delete do double else enum export extends final finally float for function goto if implements import in instanceof int interface let long native new package private protected public return short static super switch synchronized this throw throws transient try typeof var void volatile while with yield ".indexOf(" "+
a+" ")||"null"==a)throw Error("Reserved: "+a+" "+y(this.source,this.index));return"realId"}}],[/"(?:[^"\\]|\\[\s\S])*"|'(?:[^'\\]|\\[\s\S])*'/,function(a){return"string"}],[/\d+(?:\.\d+)?(?:e-?\d+)?/,function(a){return"number"}],[function(a){a.sort().reverse();for(var b=0;b<a.length;++b)a[b]=a[b].replace(/[()*+?.[\]|]/g,"\\$&");return RegExp(a.join("|"))}("! % && ( ) * + - . / < <= = > >= [ ] || === !== == !=".split(" ")),function(a){switch(a){case "==":case "===":case "!=":case "!==":return"eq";
default:return a}}]];return H({"":[[/(?:(?!{{)[\s\S])+/,function(a){return"{{"==a.substring(0,2)?(this.pushState(a),a):"text"}],[/{{{/,function(a){this.pushState(a);return a}],[/{{(?:\/if|else|\/each|\/raw)}}/,function(a){return a}],[/{{#raw}}/,function(a){this.pushState("raw");return a}],[/{{(?:#(?:if|each|forin)(?=\s))?/,function(a){this.pushState("{{");return a}]],raw:[[/(?:(?!{{\/raw}})[\s\S])+/,function(a){this.popState();return"rawtext"}]],"{{":b.concat([[/}}/,function(a){this.popState();return a}]]),
"{{{":b.concat([[/}}}/,function(a){this.popState();return a}]])})}(),K=function(){return function(b){function a(a,b){return f[a][b]}for(var d=b.nStart,e=b.tSymbols,c={},k=0;k<e.length;++k)c[e[k]]=k;var f=b.tAction,v=b.tGoto,u=b.tRules,l=b.tFuncs,p=b.actionIndex;p&&(a=function(a,b){var c=f[p[a]];return c[b]||c._});return function(b,k){function f(a){throw Error("Syntax error: "+b.getPos(p.index)+(a?"\n"+a:""));}var g=0,q=[0],p=b.scan(),r=[],t={get:function(a){return r[r.length+a]},set:function(a,b){r[r.length+
a]=b}};if(k)for(var n in k)t[n]=k[n];for(;;)if(n=a(g,c[p.tag]))if(0<n)q.push(g=n),r.push(p),p=b.scan();else if(0>n&&-32768<n){n=-n;var g=u[n],s=g.length-1;q.length-=s;g=v[q[q.length-1]][g[0]-d];q.push(g);l[n]?(n=l[n].apply(t,r.splice(r.length-s,s)),r.push(n)):1!=s&&r.splice(r.length-s,s,null)}else return p.tag!=e[0]&&f(),r[0];else{n=[];for(s=0;s<d;++s)a(g,s)&&n.push(e[s]);f("find "+p.tag+"\nexpect "+n.join(" "))}}}({nStart:40,tSymbols:"$ ! % && ( ) * + - . / < <= = > >= [ ] boolean eq include number rawtext realId set string text {{ {{#each {{#forin {{#if {{#raw}} {{/each}} {{/if}} {{/raw}} {{else}} {{{ || }} }}} AdditiveExpression EqualityExpression LogicalAndExpression LogicalOrExpression MemberExpression MultiplicativeExpression PrimaryExpression RelationalExpression UnaryExpression _text epsilon expr id name program statement statements texts".split(" "),
tAction:[{_:-2},{_:-32768},{26:3,27:4,28:5,29:6,30:7,31:8,36:9,_:-1},{_:-19},{1:13,4:14,8:15,18:16,20:17,21:18,23:19,24:20,25:21,_:0},{1:13,4:14,8:15,18:16,20:33,21:18,23:19,24:34,25:21,_:0},{22:38,_:0},{_:-17},{_:-3},{26:3,31:8,_:-13},{_:-26},{25:44,_:-23},{_:-25},{_:-21},{20:33,23:19,24:34,_:-22},{_:-24},{7:46,8:47,_:-42},{19:48,_:-49},{3:49,_:-51},{37:50,_:-53},{9:51,16:52,_:-32},{2:53,6:54,10:55,_:-39},{_:-29},{11:56,12:57,14:58,15:59,_:-47},{_:-35},{38:60,_:0},{_:-27},{_:-23},{_:-22},{20:33,
23:19,24:34,25:61,_:0},{38:65,_:0},{34:66,_:0},{39:67,_:0},{_:-18},{_:-33},{5:68,_:0},{_:-34},{38:69,_:0},{13:70,_:0},{20:33,23:19,24:34,_:0},{_:-11},{_:-15},{_:-16},{20:33,23:19,24:34,25:61,_:-54},{_:-20},{_:-12},{_:-28},{_:-14},{2:53,6:54,10:55,_:-40},{2:53,6:54,10:55,_:-41},{11:56,12:57,14:58,15:59,_:-48},{19:48,_:-50},{3:49,_:-52},{_:-30},{17:91,_:0},{_:-38},{_:-36},{_:-37},{7:46,8:47,_:-43},{7:46,8:47,_:-45},{7:46,8:47,_:-44},{7:46,8:47,_:-46},{38:92,_:0},{38:93,_:0},{38:94,_:0},{38:95,_:0},
{26:3,27:4,28:5,29:6,30:7,31:8,33:96,35:97,36:9,_:0},{38:98,_:0},{_:-31},{_:-4},{_:-10},{26:3,27:4,28:5,29:6,30:7,31:8,32:104,36:9,_:0},{26:3,27:4,28:5,29:6,30:7,31:8,32:105,36:9,_:0},{26:3,27:4,28:5,29:6,30:7,31:8,32:106,36:9,_:0},{26:3,27:4,28:5,29:6,30:7,31:8,32:107,36:9,_:0},{26:3,27:4,28:5,29:6,30:7,31:8,33:108,36:9,_:0},{_:-6},{_:-7},{_:-8},{_:-9},{_:-5}],actionIndex:[0,1,2,3,4,5,5,5,6,5,7,8,9,5,5,5,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,29,30,31,32,33,34,35,36,37,38,5,
5,5,5,5,39,5,5,5,5,5,5,5,5,40,41,42,43,43,0,44,45,46,47,5,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,0,0,0,0,69,0,70,71,72,73,74,75,76,77,78,79,80],tGoto:[{14:1,16:2},,{9:10,15:11,17:12},,{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,11:31,12:32},{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,11:35,12:32},{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,11:36,12:32},{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,11:37,12:32},,{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,11:39,12:32},
,,{9:40},{4:26,6:28,8:41,12:32},{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,11:42,12:32},{4:26,6:28,8:43,12:32},,,,,{12:45},,,,,,,,,,,,,,,{12:62,13:63},{12:62,13:64},,,,,,,,,,{4:26,5:71,6:28,8:30,12:32},{4:26,5:72,6:28,8:30,12:32},{0:22,4:26,5:27,6:28,7:73,8:30,12:32},{0:22,1:74,4:26,5:27,6:28,7:29,8:30,12:32},{0:22,1:23,2:75,4:26,5:27,6:28,7:29,8:30,12:32},{12:76},{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,11:77,12:32},{4:26,6:28,8:78,12:32},{4:26,6:28,8:79,12:32},{4:26,6:28,8:80,12:32},{0:81,
4:26,5:27,6:28,8:30,12:32},{0:82,4:26,5:27,6:28,8:30,12:32},{0:83,4:26,5:27,6:28,8:30,12:32},{0:84,4:26,5:27,6:28,8:30,12:32},,,,{10:85,12:62,13:86},{10:87,12:62,13:88},{16:89},,,,,{0:22,1:23,2:24,3:25,4:26,5:27,6:28,7:29,8:30,11:90,12:32},,,,,,,,,,,,,,,,,,,{9:10,15:11,17:12},,,{16:99},{16:100},{16:101},{16:102},,{16:103},,{9:10,15:11,17:12},{9:10,15:11,17:12},{9:10,15:11,17:12},{9:10,15:11,17:12},{9:10,15:11,17:12}],tRules:[[58,54],[54,56],[56],[56,56,55],[55,30,51,38,56,33],[55,30,51,38,56,35,56,
33],[55,28,51,53,50,38,56,32],[55,28,51,53,53,38,56,32],[55,29,51,53,50,38,56,32],[55,29,51,53,53,38,56,32],[55,27,24,52,13,51,38],[55,27,51,38],[55,36,51,39],[55,57],[55,27,20,25,38],[53,25],[53,52],[57,49],[57,57,49],[49,26],[49,31,22,34],[52,23],[52,24],[52,20],[46,25],[46,21],[46,18],[46,52],[46,4,51,5],[44,46],[44,44,9,52],[44,44,16,51,17],[48,44],[48,1,48],[48,8,48],[45,48],[45,45,6,48],[45,45,10,48],[45,45,2,48],[40,45],[40,40,7,45],[40,40,8,45],[47,40],[47,47,11,40],[47,47,14,40],[47,47,12,
40],[47,47,15,40],[41,47],[41,41,19,47],[42,41],[42,42,3,41],[43,42],[43,43,37,42],[51,43],[50]],tFuncs:function(){function b(a,b,c,d,e,p,h){return["each",b,p,d,c,!0]}function a(a,b,c,d,e,p,h){return["each",b,p,d,c,!1]}function d(a){return a.text}function e(a){return["lit",eval(a.text)]}function c(a,b,c){return[b.text,a,c]}return[,function(a){return["prog",a]},function(){return[]},function(a,b){a.push(b);return a},function(a,b,c,d,e){return["if",b,d]},function(a,b,c,d,e,p,h){return["if",b,d,p]},b,
b,a,a,function(a,b,c,d,e,p){return["set",c.text,e]},function(a,b,c){return["eval",b,!0]},function(a,b,c){return["eval",b,!1]},function(a){return["text",a]},function(a,b,c,d){return["inc",eval(c.text)]},function(a){return eval(a.text)},d,function(a){return a},function(a,b){return a+b},d,function(a,b,c){return b.text},,,,e,e,function(a){return["lit","true"==a.text]},function(a){return["id",a.text]},function(a,b,c){return b},,function(a,b,c){return[".",a,c.text]},function(a,b,c,d){return["[]",a,c]},
,function(a,b){return["!",b]},function(a,b){return["u-",b]},,c,c,c,,c,c,,c,c,c,c,,c,,c,,c]}()})}();return{parse:F,compile:G,render:function(b,a){return G(b)(a)},version:"1.2.7"}}();"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=t:"function"==typeof define&&(define.amd||define.cmd)?define(function(){return t}):"undefined"!=typeof KISSY&&KISSY.add(function(){return t});w&&(w.Crox=t)})(this);
